(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e059ade"],{"07ed":function(t,e,a){"use strict";var i=a("c710"),n=a("af5f"),s=a("004e"),o=a("38b7"),r=a("303a");i("search",1,(function(t,e,a){return[function(e){var a=s(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,a):new RegExp(e)[t](String(a))},function(t){var i=a(e,t,this);if(i.done)return i.value;var s=n(t),l=String(this),d=s.lastIndex;o(d,0)||(s.lastIndex=0);var c=r(s,l);return o(s.lastIndex,d)||(s.lastIndex=d),null===c?-1:c.index}]}))},"38b7":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},4748:function(t,e,a){"use strict";a("5b09")},5153:function(t,e,a){"use strict";a("7310")},"56cf":function(t,e,a){"use strict";a("8582")},"5b09":function(t,e,a){},7310:function(t,e,a){},"7d5b":function(t,e,a){},8582:function(t,e,a){},"8c22":function(t,e,a){"use strict";a("8ce8")},"8ce8":function(t,e,a){},"983d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.classes,on:{click:t.onClick}},[a("a",{attrs:{href:"javascript:void(0)"}},[t._t("default")],2),t.border?a("span",{staticClass:"divider"}):t._e()])},n=[],s="rich-btn",o={name:"Buttons",props:{border:{type:Boolean,default:!1},type:{type:String,default:"default"}},data:function(){return{}},methods:{onClick:function(t){this.$emit("click",t)}},computed:{classes:function(){return["".concat(s),"".concat(s,"-").concat(this.type)]}}},r=o,l=(a("8c22"),a("c701")),d=Object(l["a"])(r,i,n,!1,null,null,null),c=d.exports;e["a"]=c},a7bf:function(t,e,a){"use strict";a("7d5b")},aa8f:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{staticClass:"enterprise-page"},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("企业管理")]),a("tables",{ref:"tables",attrs:{editable:"","search-place":"top",columns:t.infoData.columns,showPage:"",total:t.pageData.total,current:t.pageData.page,"page-size":t.pageno,"show-total":"","show-elevator":"",showlayout:"",loading:t.loading},on:{"on-skippage":t.skippage},model:{value:t.infoData.data,callback:function(e){t.$set(t.infoData,"data",e)},expression:"infoData.data"}},[a("template",{slot:"header"},[a("div",{staticClass:"search-area"},[a("Button",{staticClass:"ant-btn mg-r-20",attrs:{type:"primary"},on:{click:function(e){t.isAddCompany=!0}}},[a("Icon",{attrs:{type:"md-add"}}),t._v("添加 ")],1),a("Input",{staticClass:"ant-search-input mg-r-10",staticStyle:{width:"200px"},attrs:{placeholder:"关键字",clearable:""},on:{"on-keyup":function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.get(t.keyword)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),a("Button",{staticClass:"ant-search-btn",attrs:{type:"primary",icon:"ios-search"},on:{click:function(e){return t.get(t.keyword)}}})],1)])],2),a("Modal",{attrs:{title:"添加企业",loading:t.addCompanyData.loading},on:{"on-ok":function(e){return t.addCompany("addCompanyData")},"on-cancel":function(t){}},model:{value:t.isAddCompany,callback:function(e){t.isAddCompany=e},expression:"isAddCompany"}},[a("Form",{ref:"addCompanyData",attrs:{model:t.addCompanyData,rules:t.ruleInline,"label-position":"left","label-width":100}},[a("FormItem",{attrs:{label:"企业名称：",prop:"name"}},[a("Input",{attrs:{type:"text"},model:{value:t.addCompanyData.name,callback:function(e){t.$set(t.addCompanyData,"name",e)},expression:"addCompanyData.name"}})],1),a("FormItem",{attrs:{label:"管理名姓名：",prop:"realname"}},[a("Input",{attrs:{type:"text"},model:{value:t.addCompanyData.realname,callback:function(e){t.$set(t.addCompanyData,"realname",e)},expression:"addCompanyData.realname"}})],1),a("FormItem",{attrs:{label:"手机：",prop:"mobile"}},[a("Input",{attrs:{type:"text"},model:{value:t.addCompanyData.mobile,callback:function(e){t.$set(t.addCompanyData,"mobile",e)},expression:"addCompanyData.mobile"}})],1),a("FormItem",{attrs:{label:"密码：",prop:"password"}},[a("Input",{attrs:{type:"password"},model:{value:t.addCompanyData.password,callback:function(e){t.$set(t.addCompanyData,"password",e)},expression:"addCompanyData.password"}})],1),a("FormItem",{attrs:{label:"确认密码：",prop:"isPassword"}},[a("Input",{attrs:{type:"password"},model:{value:t.addCompanyData.isPassword,callback:function(e){t.$set(t.addCompanyData,"isPassword",e)},expression:"addCompanyData.isPassword"}})],1)],1)],1),a("Modal",{attrs:{title:"管理员设置",width:"1000"},on:{"on-ok":function(e){t.isEdit=!1},"on-cancel":function(t){}},model:{value:t.isEdit,callback:function(e){t.isEdit=e},expression:"isEdit"}},[a("tables",{ref:"tables",attrs:{editable:"","search-place":"top",columns:t.adminData.columns,showPage:"",total:t.editAdmin.total,current:t.editAdmin.page,"page-size":t.pageno,"show-total":"","show-elevator":"",showlayout:""},on:{"on-skippage":t.adminSkippage},model:{value:t.adminData.data,callback:function(e){t.$set(t.adminData,"data",e)},expression:"adminData.data"}},[a("template",{slot:"header"},[a("div",{staticClass:"search-area"},[a("Button",{staticClass:"ant-btn mg-r-20",attrs:{type:"primary"},on:{click:t.goeditAdmin}},[a("Icon",{attrs:{type:"md-add"}}),t._v("添加 ")],1),a("Input",{staticClass:"ant-search-input mg-r-10",staticStyle:{width:"200px"},attrs:{placeholder:"关键字",clearable:""},on:{"on-keyup":function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getAdmin(t.keyword)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),a("Button",{staticClass:"ant-search-btn",attrs:{type:"primary",icon:"ios-search"},on:{click:function(e){return t.getAdmin(t.keyword)}}})],1)])],2)],1),a("Modal",{attrs:{title:"修改密码",loading:t.editPassword.loading},on:{"on-ok":function(e){return t.editPasswordData("editPassword")}},model:{value:t.editPassword.isModal,callback:function(e){t.$set(t.editPassword,"isModal",e)},expression:"editPassword.isModal"}},[a("Form",{ref:"editPassword",attrs:{model:t.editPassword,rules:t.passwordLine,"label-position":"left","label-width":100}},[a("FormItem",{attrs:{label:"账号/手机号："}},[a("span",[t._v(t._s(t.editPassword.phone))])]),a("FormItem",{attrs:{label:"新密码："}},[a("Input",{attrs:{type:"password"},model:{value:t.editPassword.password,callback:function(e){t.$set(t.editPassword,"password",e)},expression:"editPassword.password"}})],1),a("FormItem",{attrs:{label:"确认密码："}},[a("Input",{attrs:{type:"password"},model:{value:t.editPassword.isPassword,callback:function(e){t.$set(t.editPassword,"isPassword",e)},expression:"editPassword.isPassword"}})],1)],1)],1),a("Modal",{attrs:{title:"成为代理商"},on:{"on-ok":t.enterUpgrade},model:{value:t.agentEdit.isModal,callback:function(e){t.$set(t.agentEdit,"isModal",e)},expression:"agentEdit.isModal"}},[a("div",[a("span",{staticStyle:{width:"80px",display:"inline-block"}},[t._v("代理商等级:")]),a("Select",{staticStyle:{width:"200px"},model:{value:t.agentEdit.value,callback:function(e){t.$set(t.agentEdit,"value",e)},expression:"agentEdit.value"}},t._l(t.agentEdit.body,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.level))])})),1)],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticStyle:{width:"80px",display:"inline-block"}},[t._v("地区:")]),a("Input",{staticStyle:{width:"200px"},attrs:{type:"text"},model:{value:t.agentEdit.area,callback:function(e){t.$set(t.agentEdit,"area",e)},expression:"agentEdit.area"}})],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticStyle:{width:"80px",display:"inline-block"}},[t._v("开始时间:")]),a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetime",placeholder:"开始时间"},on:{"on-change":t.start_time}})],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticStyle:{width:"80px",display:"inline-block"}},[t._v("结束时间:")]),a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetime",placeholder:"结束时间"},on:{"on-change":t.end_time}})],1)]),a("Modal",{attrs:{title:"添加应用",width:"1080"},model:{value:t.isModal,callback:function(e){t.isModal=e},expression:"isModal"}},[a("Card",{attrs:{"dis-hover":""}},[a("templateList",{attrs:{isAdd:t.isAdd},on:{successCallback:t.selectApp}})],1)],1),a("Modal",{attrs:{title:"添加应用"},on:{"on-ok":t.addPriseApp},model:{value:t.addAppData.isModal,callback:function(e){t.$set(t.addAppData,"isModal",e)},expression:"addAppData.isModal"}},[a("Form",{ref:"addPriseApp",attrs:{"label-position":"left","label-width":100}},[a("FormItem",{attrs:{label:"应用名称：",prop:""}},[a("Input",{staticStyle:{width:"200px"},attrs:{type:"text"},model:{value:t.addAppData.name,callback:function(e){t.$set(t.addAppData,"name",e)},expression:"addAppData.name"}})],1),t.addAppData.example_appid?[a("FormItem",{attrs:{label:"软件型号：",prop:""}},[t._v(" "+t._s(t.addAppData.rolename)+" ")])]:[a("FormItem",{attrs:{label:"软件类型：",prop:""}},[a("Select",{staticStyle:{width:"200px"},model:{value:t.selectedSoft,callback:function(e){t.selectedSoft=e},expression:"selectedSoft"}},t._l(t.softList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.softname))])})),1)],1),a("FormItem",{attrs:{label:"软件型号：",prop:""}},[a("Select",{staticStyle:{width:"200px"},model:{value:t.addAppData.rolecode,callback:function(e){t.$set(t.addAppData,"rolecode",e)},expression:"addAppData.rolecode"}},t._l(t.pariceList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.rolename))])})),1)],1)]],2)],1)],1)},n=[],s=(a("90d4"),a("5c4c"),a("4798"),a("fa69")),o=a("983d"),r=a("f408"),l={components:{Tables:s["a"],Buttons:o["a"],templateList:r["a"]},data:function(){var t=this;return{isAdd:!0,getAppType:{pc:!1,mobile:!1,mina:!1},softList:[],selectedSoft:"",scrollList:!1,pageNum:1,total:1,page:1,pageno:10,moves:window.vueAppUrl,appList:[],isEdit:!1,isModal:!1,isAddCompany:!1,searchPoptip:!1,searching:!1,loading:!1,keyword:"",pariceList:[],pageData:{total:0,page:1},searchAppList:{searchPoptip:!1,search:!1,keyword:""},agentEdit:{isModal:!1,id:"",value:"gj",area:"",start_time:"",end_time:"",start_date:"",end_date:"",body:[]},editPassword:{isModal:!1,loading:!0,password:"",isPassword:"",id:"",phone:"",user:""},editAdmin:{isModal:!1,searchPoptip:!1,id:"",total:0,page:1,realname:"",mobile:"",password:"",isPassword:"",loading:!0,body:[]},addCompanyData:{name:"",realname:"",mobile:"",password:"",isPassword:"",loading:!0},adminData:{columns:[{title:"管理员名称",key:"realname"},{title:"等级",render:function(t,e){return t("div",{style:{color:1==e.row.sort?"#ed4014":"#2d8cf0"}},1==e.row.sort?"高级管理员":"普通管理员")},width:"120px"},{title:"状态",render:function(e,a){return e("div",[e(o["a"],{props:{type:1==a.row.yesno?"success":"error",size:"small"},on:{click:function(){var e=1==a.row.yesno?"no":"ok";t.editManager(a.row,e)}}},1==a.row.yesno?"正常":"关闭")])}},{title:"最近登录时间",key:"nowlogin"},{title:"最近登录IP",key:"nowip"},{title:"操作",render:function(e,a){return e("div",[e("Button",{props:{type:"info",size:"small"},style:{"margin-right":"10px"},on:{click:function(){var e=a.row,i={id:e.id,phone:e.mobile,isModal:!0,user:e.user};console.log(e),Object.assign(t.editPassword,i)}}},"修改"),e("Button",{props:{type:"error",size:"small"},style:{},on:{click:function(){t.editManager(a.row,"del")}}},"删除")])}}],data:[]},ruleInline:{name:[{required:!0,message:"必填",trigger:"blur"}],realname:[{required:!0,message:"必填",trigger:"blur"}],mobile:[{required:!0,message:"必填",trigger:"blur"}],password:[{required:!0,message:"必填",trigger:"blur"}],isPassword:[{required:!0,message:"必填",trigger:"blur"}]},adminLine:{realname:[{required:!0,message:"必填",trigger:"blur"}],mobile:[{required:!0,message:"必填",trigger:"blur"}],password:[{required:!0,message:"必填",trigger:"blur"}],isPassword:[{required:!0,message:"必填",trigger:"blur"}]},passwordLine:{password:[{required:!0,message:"必填",trigger:"blur"}],isPassword:[{required:!0,message:"必填",trigger:"blur"}]},addAppData:{isModal:!1,user:"",name:"",rolecode:"",example_appid:"",rolename:""},infoData:{columns:[{title:"企业名称",key:"name"},{title:"管理员",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"text"},style:{color:"#39f"},on:{click:function(){t.editAdmin.id=a.row.id,t.isEdit=!0,t.getAdmin()}}},"设置")])},width:"90px"},{title:"所属代理商",key:"agentname"},{title:"状态",key:"status",render:function(t,e){return t("div",{},1==e.row.status?"正常":"关闭")},width:"90px"},{title:"应用数量",render:function(e,a){return e("div",[e("Button",{props:{type:"text"},style:{color:"#39f"},on:{click:function(){t.$router.push({path:"/admin_apps",query:{user:a.row.id}})}}},a.row.appcount)])},width:"90px"},{title:"注册时间",key:"regtime",width:"170px"},{title:"添加应用",render:function(e,a){return e("div",[e("Button",{props:{type:"info",size:"small"},style:{},on:{click:function(){t.isModal=!0,t.addAppData.user=a.row.id}}},"添加")])},width:"90px"},{title:"成为代理商",render:function(e,a){return e("div",[e("Button",{props:{type:"success",size:"small"},style:{},on:{click:function(){t.agentEdit.isModal=!0,t.agentEdit.id=a.row.id}}},"确认")])},width:"120px"},{title:"操作",render:function(e,a){return e("div",[e("Button",{props:{type:"error",size:"small"},style:{color:"#fff"},on:{click:function(){var e=t;t.$Modal.confirm({content:"确定要删除该企业吗？删除后数据无法恢复",cancelText:"取消",onOk:function(){e.delApp(a.row)},onCancel:function(){}})}}},"删除")])},width:"90px"}],data:[]}}},created:function(){this.get(),this.getSoftList(),this.getAgentJibie()},watch:{selectedSoft:function(t){this.getAgentprice()}},methods:{success:function(t){console.log(t)},getSoftList:function(){var t=this;this.$http.request({url:"/api_admin.php?action=soft_listof",params:{appid:this.vueAppid}}).then((function(e){t.softList=e.data.body||[],console.log(e.data)})).catch((function(e){t.$Notice.error({title:"错误提示",desc:e})}))},delApp:function(t){var e=this,a={action:"company_del",user:t.id};this.$Loading.start(),e.$http.post("/api_admin.php",e.$qs.stringify(a)).then((function(a){1==a.data.status?(e.infoData.data.splice(t._index,1),e.$Message.info(a.data.message)):e.$Message.warning(a.data.message),e.$Loading.finish()})).catch((function(t){console.log(t),e.$Notice.error({title:"错误提示",desc:t}),e.$Loading.error()}))},get:function(t){var e=this;t&&(this.pageData.page=1);var a={action:"companylistof",keyword:t,pageno:10,page:this.pageData.page};e.searching=!!t,e.infoData.data=[],this.$Loading.start(),e.$http.post("/api_admin.php",e.$qs.stringify(a)).then((function(t){console.log(t),1==t.data.status?(e.infoData.data=t.data.body||[],e.pageData.total=Number(t.data.total)):e.$Message.info(t.data.message),e.$Loading.finish()})).catch((function(t){console.log(t),e.$Notice.error({title:"错误提示",desc:t}),e.$Loading.error()}))},addPriseApp:function(){var t=this,e={action:"app_add",user:this.addAppData.user,app_name:this.addAppData.name,roleID:this.addAppData.rolecode,example_appid:this.addAppData.example_appid};this.$Loading.start(),t.$http.post("/api_admin.php",t.$qs.stringify(e)).then((function(e){console.log(e),1==e.data.status&&(t.get(),t.addAppData.name="",t.isModal=!1,t.addAppData.isModal=!1),t.$Loading.finish()})).catch((function(e){console.log(e),t.$Notice.error({title:"错误提示",desc:e}),t.$Loading.error()}))},addCompany:function(t){var e=this,a=this,i=this.addCompanyData;this.$refs[t].validate((function(t){if(t){if(i.password!=i.isPassword)return e.isAddCompany=!0,e.addCompanyData.loading=!1,e.$nextTick((function(){e.addCompanyData.loading=!0})),e.$Message.warning("两次密码不一致，请重新输入");var n={action:"company_add",companyName:i.name,realname:i.realname,mobile:i.mobile,password:i.password};e.$Loading.start(),a.$http.post("/api_admin.php",a.$qs.stringify(n)).then((function(t){a.addCompanyData.loading=!1,1==t.data.status?(a.get(),a.addCompanyData.name="",a.addCompanyData.password="",a.isAddCompany=!1):(a.$Message.error(t.data.message),a.$nextTick((function(){a.addCompanyData.loading=!0}))),a.$Loading.finish()})).catch((function(t){console.log(t),a.$Notice.error({title:"错误提示",desc:t}),a.$Loading.error()}))}else e.addCompanyData.loading=!1,e.$nextTick((function(){e.addCompanyData.loading=!0}))}))},skippage:function(t){this.pageData.page=t,this.get()},adminSkippage:function(t){this.editAdmin.page=t,this.getAdmin()},getAgentprice:function(){var t=this,e={action:"role_listof",appid:this.vueAppid,softID:this.selectedSoft};t.$http.post("/api_admin.php",t.$qs.stringify(e)).then((function(e){t.pariceList=e.data.body||[],console.log(t.pariceList)})).catch((function(e){t.$Notice.error({title:"错误提示",desc:e})}))},getAdmin:function(t){var e=this,a={action:"manager_listof",user:this.editAdmin.id,pageno:10,page:this.editAdmin.page,keyword:t};this.$Loading.start(),e.$http.post("/api_admin.php",e.$qs.stringify(a)).then((function(t){1==t.data.status&&(e.adminData.data=t.data.body,e.editAdmin.total=Number(t.data.total)),e.$Loading.finish()})).catch((function(t){console.log(t),e.$Notice.error({title:"错误提示",desc:t}),e.$Loading.error()}))},editPasswordData:function(t){var e=this,a=this,i=this.editPassword;this.$refs[t].validate((function(t){if(t){if(i.password!=i.isPassword)return e.editPassword.loading=!1,e.$nextTick((function(){e.editPassword.loading=!0})),e.$Message.warning("两次密码不一致，请重新输入");var n={action:"manager_password",managerid:i.id,password:i.password,user:i.user};console.log(n),a.$http.post("/api_admin.php",a.$qs.stringify(n)).then((function(t){a.editPassword.loading=!1,a.editPassword.password="",a.editPassword.isPassword="",a.editPassword.isModal=!1,a.$nextTick((function(){a.editPassword.loading=!0})),a.$Message.success("修改成功")})).catch((function(t){a.$Notice.error({title:"错误提示",desc:t}),a.$nextTick((function(){a.editPassword.loading=!0})),a.$Message.error(t.data.message)}))}else a.editPassword.loading=!1,a.$nextTick((function(){a.editPassword.loading=!0}))}))},enterUpgrade:function(){var t=this,e=this.agentEdit.start_time,a=this.agentEdit.end_time;console.log(e);var i={action:"agent_add",companyid:this.agentEdit.id,levelID:this.agentEdit.value,starttime:e,endtime:a,area:this.agentEdit.area};console.log(i),t.$http.post("/api_admin.php",t.$qs.stringify(i)).then((function(e){t.get()})).catch((function(e){console.log(e),t.$Notice.error({title:"错误提示",desc:e}),t.$Loading.error()}))},editManager:function(t,e){var a=this,i={action:"manager_check",user:t.user,chooseID:t.id,editmode:e};this.$Loading.start(),a.$http.post("/api_admin.php",a.$qs.stringify(i)).then((function(t){1==t.data.status&&a.getAdmin(),a.$Loading.finish()})).catch((function(t){console.log(t),a.$Notice.error({title:"错误提示",desc:t}),a.$Loading.error()}))},start_time:function(t){this.agentEdit.start_time=t},end_time:function(t){this.agentEdit.end_time=t},selectApp:function(t){console.log(t),this.addAppData.isModal=!0,""==t.id?(this.addAppData.example_appid="",this.addAppData.name="我的小程序"):(this.addAppData.example_appid=t.id,this.addAppData.name=t.name,this.addAppData.rolecode=t.roleID,this.addAppData.rolename=t.rolename)},previewApp:function(t){window.open("/appeditor/preview.php?appid="+t.fromappid)},getAgentJibie:function(){var t=this,e={action:"level_listof"};t.$http.post("/api_admin.php",t.$qs.stringify(e)).then((function(e){console.log(e,"======================================"),t.agentEdit.body=e.data.body||[]})).catch((function(e){console.log(e),t.$Notice.error({title:"错误提示",desc:e})}))},editCode:function(t){var e=[];for(var a in t)e.push({code:a,name:t[a]});return e},goeditAdmin:function(){this.$router.push({name:"admin_add",params:{page:1},query:{userid:this.editAdmin.id}})}}},d=l,c=(a("a7bf"),a("c701")),p=Object(c["a"])(d,i,n,!1,null,null,null);e["default"]=p.exports},bc20:function(t,e,a){t.exports=a.p+"img/mobileBg.e4ab3680.png"},f408:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"template-def-style"},[a("Layout",{staticClass:"layout-wrapper"},[a("Header",{staticClass:"header-wrapper"},[a("Input",{staticClass:"ant-search-input mg-r-10",staticStyle:{width:"200px"},attrs:{placeholder:"关键字",clearable:""},on:{"on-keyup":function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.get(t.keyword)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),a("Button",{staticClass:"ant-search-btn",attrs:{type:"primary",icon:"ios-search"},on:{click:t.get}})],1),a("Header",{staticClass:"header-wrapper"},[a("RadioGroup",{model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("Radio",{attrs:{label:"0"}},[a("span",[t._v("全选")])]),a("Radio",{attrs:{label:"1"}},[a("span",[t._v("电脑网站")])]),a("Radio",{attrs:{label:"2"}},[a("span",[t._v("手机网站")])]),a("Radio",{attrs:{label:"3"}},[a("span",[t._v("微信小程序")])]),a("Radio",{attrs:{label:"4"}},[a("span",[t._v("电脑网站 + 手机网站")])]),a("Radio",{attrs:{label:"5"}},[a("span",[t._v("电脑网站 + 微信小程序")])]),a("Radio",{attrs:{label:"6"}},[a("span",[t._v("手机网站 + 微信小程序")])])],1)],1),a("Layout",{staticClass:"layout-wrapper"},[a("Layout",{staticClass:"layout-wrapper"},[a("Content",[a("div",{staticClass:"cti-cardlist"},[a("Row",{attrs:{gutter:16}},[a("Col",{staticStyle:{"padding-bottom":"10px"},attrs:{xs:12,lg:8}},[a("Card",{attrs:{padding:0}},[a("div",{staticStyle:{position:"relative"}},[a("div",{staticClass:"cti-align-center",style:t.mobileBgStyle},[a("a",{staticClass:"preview_link",style:t.pcPreviewStyle,attrs:{href:"javascript:void(0)"}})])]),a("div",{staticClass:"card-info"},[a("div",{staticClass:"card-title"},[a("div",{staticClass:"ac-title-level3"},[t._v(" 空白模板 ")]),a("div",{staticClass:"number"},[t._v(" 编号: 0 ")])])]),a("div",{staticClass:"deleteBtn"},[t.isAdd?a("Button",{attrs:{type:"info"},on:{click:function(e){return t.addTemplate({id:0})}}},[t._v("使用样板")]):t._e()],1)])],1),t._l(t.appList,(function(e){return a("Col",{staticStyle:{"padding-bottom":"10px"},attrs:{xs:12,lg:8}},[a("Card",{attrs:{padding:0}},[a("div",{staticStyle:{position:"relative"}},[a("div",{staticClass:"cti-align-center",style:t.mobileBgStyle},[a("a",{staticClass:"preview_link",style:t.pcPreviewStyle,attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.previewApp(e)}}},[a("span",{staticClass:"bg_span"}),t.getAppType.mina&&0==t.getAppType.pc?a("img",{staticClass:"qrcode",staticStyle:{height:"164px",width:"164px"},attrs:{height:"164",width:"164",src:e.QrUrl}}):t._e(),t.getAppType.pc?a("span",{staticClass:"bg_round"}):t._e(),t.getAppType.pc?a("span",{staticClass:"txt_span ng-binding",on:{click:function(a){return t.toPreview(e)}}},[t._v("预览")]):t._e(),a("img",{staticClass:"mobile-preview-img",style:t.previewWidthStyle,attrs:{src:1!=t.getAppType.mobile&&1!=t.getAppType.mina||0!=t.getAppType.pc?e.cover_pc:e.cover_mobile,alt:" "}})])]),0==t.getAppType.mobile&&0==t.getAppType.mina&&0==t.getAppType.pc||1==t.getAppType.pc&&(1==t.getAppType.mobile||1==t.getAppType.mina)?a("div",{staticClass:"mobile-preview"},[a("a",{staticClass:"preview_link mob",staticStyle:{width:"80px",height:"130px","margin-top":"30px","margin-left":"auto","margin-right":"auto"},attrs:{href:"javascript:void(0)"}},[t.getAppType.mina?a("img",{staticClass:"qrcode",staticStyle:{height:"164px",width:"164px"},attrs:{height:"164",width:"164",src:e.QrUrl}}):t._e(),a("span",{staticClass:"bg_span"}),a("img",{staticStyle:{width:"80px",height:"130px"},attrs:{src:e.cover_mobile,alt:" "}})])]):t._e()]),a("div",{staticClass:"card-info"},[a("div",{staticClass:"card-title"},[a("div",{staticClass:"ac-title-level3"},[t._v(" "+t._s(e.name)+" ")]),a("div",{staticClass:"number"},[t._v(" 编号: "+t._s(e.id)+" ")])])]),a("div",{staticClass:"deleteBtn"},[t.isAdd?a("Button",{staticClass:"mg-r-20",attrs:{type:"info"},on:{click:function(a){return t.addTemplate(e)}}},[t._v("使用样板")]):t._e(),a("Button",{attrs:{type:"error"},on:{click:function(a){return t.jsDelect(e)}}},[t._v("删除")])],1)])],1)}))],2)],1),t.total>t.pageno?a("div",{staticClass:"page-content"},[a("Page",{attrs:{total:t.total,current:t.page,"show-total":"","show-elevator":""},on:{"on-change":t.skippage}})],1):t._e()]),a("Footer",{staticClass:"table-footer"})],1)],1)],1)],1)},n=[],s=(a("90d4"),a("d8f4"),a("07ed"),a("bc20")),o=a.n(s),r={props:{isAdd:{type:Boolean,default:function(t){return!1}}},data:function(){return{isrefresh:!0,moves:window.vueAppUrl,appList:[],keyword:"",search:!1,page:1,total:0,pageno:10,searchPoptip:!1,getAppType:{pc:!0,mobile:!0,mina:!0},selected:"0"}},computed:{mobileBgStyle:function(){return 1!=this.getAppType.mobile&&1!=this.getAppType.mina||0!=this.getAppType.pc?"":{background:"url("+o.a+") no-repeat center",height:"404px"}},previewWidthStyle:function(){return 1!=this.getAppType.mobile&&1!=this.getAppType.mina||0!=this.getAppType.pc?{position:"absolute",left:0,top:0}:{width:"180px",height:"280px"}},pcPreviewStyle:function(){return 1!=this.getAppType.mobile&&1!=this.getAppType.mina||0!=this.getAppType.pc?"":{width:"180px",height:"280px","margin-top":"50px","margin-left":"auto","margin-right":"auto"}}},created:function(){this.get()},watch:{selected:function(t){switch(t){case"0":this.getAppType={pc:!0,mobile:!0,mina:!0};break;case"1":this.getAppType={pc:!0,mobile:!1,mina:!1};break;case"2":this.getAppType={pc:!1,mobile:!0,mina:!1};break;case"3":this.getAppType={pc:!1,mobile:!1,mina:!0};break;case"4":this.getAppType={pc:!0,mobile:!0,mina:!1};break;case"5":this.getAppType={pc:!0,mobile:!1,mina:!0};break;case"6":this.getAppType={pc:!1,mobile:!0,mina:!0};break}this.appList=[],this.page=1,this.get()}},methods:{get:function(){var t=this,e=this;this.keyword&&(this.page=1);var a={action:"example_applist",keyword:this.keyword,page:this.page,pageno:10,pc:this.getAppType.pc?1:0,mobile:this.getAppType.mobile?1:0,mina:this.getAppType.mina?1:0};console.log(a),this.keyword?this.search=!0:this.search=!1,this.$Loading.start(),e.$http.post("/api_admin.php",e.$qs.stringify(a)).then((function(t){console.log(t.data),1==t.data.status?(e.appList=t.data.body,e.total=parseInt(t.data.total)):e.$Message.info(t.data.message),e.$Loading.finish()})).catch((function(e){t.$Notice.error({title:"提示",desc:e,duration:10})}))},getAppList:function(){},skippage:function(t){this.page=t,this.appList=[],this.get()},cancelSearch:function(){this.keyword="",this.get()},jsDelect:function(t){var e=this,a={action:"example_appdel",id:t.id};this.$Modal.confirm({title:"提示",content:"确定删除所选样板吗?",onOk:function(){e.$http.post("/api_admin.php",a).then((function(a){e.appList.splice(t._index,1)})).catch((function(t){e.$Notice.error({title:"错误提示",desc:t})}))},onCancel:function(){}})},previewApp:function(t){this.$emit("previewApp",t)},addTemplate:function(t){this.$emit("successCallback",t)},toPreview:function(t){window.open("/preshow.php?appid="+t.id),console.log(t)}}},l=r,d=(a("5153"),a("c701")),c=Object(d["a"])(l,i,n,!1,null,"1665fc76",null);e["a"]=c.exports},fa69:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tables_template"},[t.showlayout?a("Layout",{staticClass:"layout-wrapper"},[t.searchable?a("Header",{staticClass:"header-wrapper"},[t._t("menu"),a("div",{staticClass:"search-area"},[t._t("addbtn"),a("Input",{staticClass:"ant-search-input mg-r-10",staticStyle:{width:"200px"},attrs:{placeholder:"关键字",clearable:""},on:{"on-keyup":function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSearchChange(e)}},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}}),a("Button",{staticClass:"ant-search-btn",attrs:{type:"primary",icon:"ios-search"},on:{click:t.onSearchChange}}),t.isSearch?a("div",{staticClass:"search-content"},[t._v(" 搜索:"+t._s(t.value)+" "),a("Button",{attrs:{type:"primary",size:"small",shape:"circle"},on:{click:t.cancelSearch}},[t._v("返回")])],1):t._e()],2)],2):a("Header",{staticClass:"header-wrapper"},[t._t("header")],2),a("Layout",{staticClass:"layout-wrapper"},[t.showsider?a("Sider",{staticClass:"sider-wrapper",attrs:{width:"198"}},[t._t("sider")],2):t._e(),a("Layout",{staticClass:"layout-wrapper"},[a("Content",[a("Table",{ref:"tablesMain",attrs:{"row-key":t.rowKey,data:t.insideTableData,columns:t.insideColumns,stripe:t.stripe,border:t.border,"show-header":t.showHeader,width:t.width,height:t.height,loading:t.loading,"disabled-hover":t.disabledHover,"highlight-row":t.highlightRow,"row-class-name":t.rowClassName,size:t.size,"no-data-text":t.noDataText,"no-filtered-data-text":t.noFilteredDataText},on:{"on-current-change":t.onCurrentChange,"on-select":t.onSelect,"on-select-cancel":t.onSelectCancel,"on-select-all":t.onSelectAll,"on-selection-change":t.onSelectionChange,"on-sort-change":t.onSortChange,"on-filter-change":t.onFilterChange,"on-row-click":t.onRowClick,"on-row-dblclick":t.onRowDblclick,"on-expand":t.onExpand}}),1==t.showPage&&t.total>t.pageSize?a("div",{staticClass:"page-content"},[a("Page",{attrs:{total:t.total,current:t.current,"page-size":t.pageSize,"show-total":t.showTotal,"show-elevator":t.showElevator},on:{"on-change":t.skippage}})],1):t._e()],1),a("Footer",{staticClass:"table-footer"},[t._t("footer")],2)],1)],1)],1):a("div",{staticClass:"tableContent"},[t.searchable?a("div",{staticClass:"search-area"},[t._t("addbtn"),a("Input",{staticClass:"ant-search-input mg-r-10",staticStyle:{width:"200px"},attrs:{placeholder:"关键字",clearable:""},on:{"on-keyup":function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSearchChange(e)}},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}}),a("Button",{staticClass:"ant-search-btn",attrs:{type:"primary",icon:"ios-search"},on:{click:t.onSearchChange}}),t.isSearch?a("div",{staticClass:"search-content"},[t._v(" 搜索:"+t._s(t.searchKey)+" "),a("Button",{attrs:{type:"primary",size:"small",shape:"circle"},on:{click:t.onCancelSearch}},[t._v("返回")])],1):t._e()],2):t._e(),a("Table",{ref:"tablesMain",attrs:{"row-key":t.rowKey,data:t.insideTableData,columns:t.insideColumns,stripe:t.stripe,border:t.border,"show-header":t.showHeader,width:t.width,height:t.height,loading:t.loading,"disabled-hover":t.disabledHover,"highlight-row":t.highlightRow,"row-class-name":t.rowClassName,size:t.size,"no-data-text":t.noDataText,"no-filtered-data-text":t.noFilteredDataText},on:{"on-current-change":t.onCurrentChange,"on-select":t.onSelect,"on-select-cancel":t.onSelectCancel,"on-select-all":t.onSelectAll,"on-selection-change":t.onSelectionChange,"on-sort-change":t.onSortChange,"on-filter-change":t.onFilterChange,"on-row-click":t.onRowClick,"on-row-dblclick":t.onRowDblclick,"on-expand":t.onExpand}}),1==t.showPage&&t.total>t.pageSize?a("div",{staticClass:"page-content"},[a("Page",{attrs:{total:t.total,current:t.current,"page-size":t.pageSize,"show-total":t.showTotal,"show-elevator":t.showElevator},on:{"on-change":t.skippage}})],1):t._e()],1)],1)},n=[],s=(a("2d38"),a("02bf"),a("4798"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tables-edit-outer"},[t.isEditting?a("div",{staticClass:"tables-editting-con"},[a("Input",{staticClass:"tables-edit-input",attrs:{value:t.value},on:{input:t.handleInput}}),a("Button",{staticStyle:{padding:"6px 4px",color:"#2d8cf0","box-shadow":"none"},attrs:{type:"text",ghost:""},on:{click:t.saveEdit}},[a("Icon",{attrs:{type:"md-checkmark"}})],1),a("Button",{staticStyle:{padding:"6px 4px",color:"#2d8cf0","box-shadow":"none"},attrs:{type:"text",ghost:""},on:{click:t.canceltEdit}},[a("Icon",{attrs:{type:"md-close"}})],1)],1):a("div",{staticClass:"tables-edit-con"},[a("span",{staticClass:"value-con"},[t._v(t._s(t.value))]),t.editable?a("Button",{staticClass:"tables-edit-btn",staticStyle:{padding:"2px 4px"},attrs:{ghost:"",type:"text"},on:{click:t.startEdit}},[a("Icon",{attrs:{type:"md-create"}})],1):t._e()],1)])}),o=[],r={name:"TablesEdit",props:{value:[String,Number],edittingCellId:String,params:Object,editable:Boolean},data:function(){return{}},computed:{isEditting:function(){return this.edittingCellId==="editting-".concat(this.params.index,"-").concat(this.params.column.key)}},methods:{handleInput:function(t){this.$emit("input",t)},startEdit:function(){this.$emit("on-start-edit",this.params)},saveEdit:function(){this.$emit("on-save-edit",this.params)},canceltEdit:function(){this.$emit("on-cancel-edit",this.params)}}},l=r,d=(a("56cf"),a("c701")),c=Object(d["a"])(l,s,o,!1,null,null,null),p=c.exports,u={name:"Tables",props:{value:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},rowKey:{type:String,default:""},size:String,width:{type:[Number,String]},height:{type:[Number,String]},stripe:{type:Boolean,default:!1},border:{type:Boolean,default:!1},showHeader:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClassName:{type:Function,default:function(){return""}},context:{type:Object},noDataText:{type:String},noFilteredDataText:{type:String},disabledHover:{type:Boolean},loading:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},isSearch:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},searchPlace:{type:String,default:"top"},showPage:{type:Boolean,default:!1},total:{type:Number,default:0},pageSize:{type:Number,default:10},current:{type:Number,default:1},showTotal:{type:Boolean,default:!1},showElevator:{type:Boolean,default:!1},showlayout:{type:Boolean,default:!1},showsider:{type:Boolean,default:!1}},data:function(){return{insideColumns:[],insideTableData:[],edittingCellId:"",edittingText:"",searchValue:"",searchKey:""}},mounted:function(){this.handleColumns(this.columns),this.handleTableData()},watch:{columns:function(t){console.log(t),this.handleColumns(t)},value:function(t){this.handleTableData()}},methods:{handleColumns:function(t){var e=this;this.insideColumns=t.map((function(t,a){var i=t;return i.editable&&(i=e.suportEdit(i,a)),i.key,i}))},handleTableData:function(){this.insideTableData=this.value.map((function(t,e){var a=t;return a.initRowIndex=e,a}))},suportEdit:function(t,e){var a=this;return t.render=function(t,e){return t(p,{props:{params:e,value:a.insideTableData[e.index][e.column.key],edittingCellId:a.edittingCellId,editable:a.editable},on:{input:function(t){a.edittingText=t},"on-start-edit":function(t){a.edittingCellId="editting-".concat(t.index,"-").concat(t.column.key),console.log(a.edittingCellId),a.$emit("on-start-edit",t)},"on-cancel-edit":function(t){a.edittingCellId=""},"on-save-edit":function(t){a.value[t.row.initRowIndex][t.column.key]=a.edittingText?a.edittingText:a.value[t.row.initRowIndex][t.column.key],a.$emit("input",a.value),a.$emit("on-save-edit",Object.assign(t,{value:a.value[t.row.initRowIndex][t.column.key]})),a.edittingCellId=""}}})},t},onCurrentChange:function(t,e){this.$emit("on-current-change",t,e)},selectAll:function(t){this.$refs.tablesMain.selectAll(t)},onSelect:function(t,e){this.$emit("on-select",t,e)},onSelectCancel:function(t,e){this.$emit("on-select-cancel",t,e)},onSelectAll:function(t){this.$emit("on-select-all",t)},onSelectionChange:function(t){this.$emit("on-selection-change",t)},onSortChange:function(t,e,a){this.$emit("on-sort-change",t,e,a)},onFilterChange:function(t){this.$emit("on-filter-change",t)},onRowClick:function(t,e){this.$emit("on-row-click",t,e)},onRowDblclick:function(t,e){this.$emit("on-row-dblclick",t,e)},onExpand:function(t,e){this.$emit("on-expand",t,e)},skippage:function(t){this.$emit("on-skippage",t)},onSearchChange:function(){this.$emit("on-search-change",this.searchKey)},onCancelSearch:function(t){this.$emit("on-cancel-search",t)},onPathEdit:function(t){this.$emit("on-path-edit",t)}}},h=u,g=(a("4748"),Object(d["a"])(h,i,n,!1,null,null,null)),m=g.exports;e["a"]=m}}]);